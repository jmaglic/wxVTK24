cmake_minimum_required(VERSION 3.20)
project(wxVTKRenderWindowInteractor)
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS ON)
if (MSVC)
	set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} /SUBSYSTEM:WINDOWS /ENTRY:WinMainCRTStartup")
endif(MSVC)

# Generated by VTKModulesForCxx.py
find_package(VTK
 COMPONENTS
    CommonColor
    CommonCore
    CommonDataModel
    FiltersCore
    FiltersSources
    IOImage
    ImagingHybrid
    InteractionWidgets
    RenderingCore
    RenderingVolumeOpenGL2
    #
    # These modules are suggested since they implement an existing module.
    # You may need to uncomment one or more of these.
    # If vtkRenderWindow is used and you want to use OpenGL,
    #   you also need the RenderingOpenGL2 module.
    # If vtkRenderWindowInteractor is used,
    #    uncomment RenderingUI and possibly InteractionStyle.
    # If text rendering is used, uncomment RenderingFreeType
    #
    # FiltersParallel   # implements VTK::FiltersCore
    InteractionStyle  # implements VTK::RenderingCore
    # RenderingCellGrid # implements VTK::RenderingCore
    # RenderingFreeType # implements VTK::RenderingCore
    RenderingOpenGL2  # implements VTK::RenderingCore
    RenderingUI       # implements VTK::RenderingCore
)

find_package(wxWidgets)
include(${wxWidgets_USE_FILE})
add_library(wxVTKRenderWindowInteractor STATIC wxVTKRenderWindowInteractor.cxx wxVTKRenderWindowInteractor.h)
target_link_libraries(wxVTKRenderWindowInteractor ${VTK_LIBRARIES} ${wxWidgets_LIBRARIES})

vtk_module_autoinit(
  TARGETS wxVTKRenderWindowInteractor
  MODULES ${VTK_LIBRARIES}
)

# Executable for demonstrating voxel rendering
set(VOLUME_DEMO cubedemo)
add_executable(${VOLUME_DEMO} volume.cpp)
target_link_libraries(${VOLUME_DEMO} wxVTKRenderWindowInteractor)

vtk_module_autoinit(
  TARGETS ${VOLUME_DEMO}
  MODULES ${VTK_LIBRARIES}
)

# Executable for demonstrating marching cubes algorithm
set(SURFACE_DEMO surfdemo)
add_executable(${SURFACE_DEMO} surface.cpp)
target_link_libraries(${SURFACE_DEMO} wxVTKRenderWindowInteractor)

vtk_module_autoinit(
  TARGETS ${SURFACE_DEMO}
  MODULES ${VTK_LIBRARIES}
)
